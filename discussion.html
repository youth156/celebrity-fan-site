<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="discussion-title">话题讨论 - BoomRaveewit 粉丝社区</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6C38FF', // 主色调：紫色，代表创造力和独特性
                        secondary: '#FF5E7D', // 辅助色：粉色，代表热情和活力
                        dark: '#1A1A2E', // 深色背景
                        light: '#F7F7F9', // 浅色背景
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        display: ['Montserrat', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .transition-custom {
                transition: all 0.3s ease;
            }
            .animate-fade-in {
                animation: fadeIn 0.5s ease-in-out;
            }
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
        }
    </style>
    <style>
        body {
            background-color: #0F0F23;
            background-image: radial-gradient(circle at 50% 50%, rgba(108, 56, 255, 0.1) 0%, rgba(26, 26, 46, 0) 70%);
            background-attachment: fixed;
        }
        .topic-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px -5px rgba(108, 56, 255, 0.1), 0 10px 10px -5px rgba(108, 56, 255, 0.04);
        }
        .comment-form:focus-within {
            border-color: #6C38FF;
            box-shadow: 0 0 0 3px rgba(108, 56, 255, 0.2);
        }
    </style>
</head>
<body class="font-sans text-white min-h-screen flex flex-col">
    <!-- 导航栏 -->
    <header class="sticky top-0 z-50 bg-dark/80 backdrop-blur-md border-b border-white/10">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <a href="index.html" class="flex items-center">
                        <span class="text-xl font-bold text-primary">BoomRaveewit</span>
                    </a>
                    <nav class="ml-10 hidden md:block">
                        <div class="flex items-center space-x-8">
                            <a href="index.html" class="text-gray-300 hover:text-white transition-custom" data-lang-key="nav-home">首页</a>
                            <a href="gallery.html" class="text-gray-300 hover:text-white transition-custom" data-lang-key="nav-gallery">照片</a>
                            <a href="all-news.html" class="text-gray-300 hover:text-white transition-custom" data-lang-key="nav-news">动态</a>
                            <a href="discussion.html" class="text-primary border-b-2 border-primary py-1" data-lang-key="nav-discussion">话题讨论</a>
                        </div>
                    </nav>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- 用户状态显示 -->
                    <div id="user-status" class="hidden items-center space-x-2">
                        <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center text-white text-sm">
                            <span id="user-avatar"></span>
                        </div>
                        <span id="user-name" class="text-sm text-white"></span>
                        <button id="logout-btn" class="text-gray-400 hover:text-white transition-custom">
                            <i class="fa fa-sign-out"></i>
                        </button>
                    </div>
                    <a href="login.html" id="login-link" class="text-sm text-white hover:text-primary transition-custom">
                        <i class="fa fa-user-circle-o mr-1"></i>
                        <span data-lang-key="nav-login">登录/注册</span>
                    </a>
                    <!-- 语言切换下拉菜单 -->
                    <div class="relative">
                        <button id="language-btn" class="flex items-center text-gray-300 hover:text-white transition-custom">
                            <i class="fa fa-globe mr-2"></i>
                            <span data-lang-key="nav-language">语言</span>
                            <i class="fa fa-chevron-down ml-2 text-xs"></i>
                        </button>
                        <div id="language-dropdown" class="absolute right-0 mt-2 w-48 bg-dark border border-white/20 rounded-lg shadow-xl hidden z-50">
                            <a href="#" data-lang="zh" class="block px-4 py-2 hover:bg-white/10 transition-custom">中文</a>
                            <a href="#" data-lang="en" class="block px-4 py-2 hover:bg-white/10 transition-custom">English</a>
                            <a href="#" data-lang="th" class="block px-4 py-2 hover:bg-white/10 transition-custom">ไทย</a>
                        </div>
                    </div>
                    <!-- 移动端菜单按钮 -->
                    <div class="md:hidden">
                        <button id="mobile-menu-button" class="text-gray-300 hover:text-white transition-custom">
                            <i class="fa fa-bars text-xl"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- 移动端菜单 -->
        <div id="mobile-menu" class="md:hidden hidden bg-dark border-t border-white/10">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-custom" data-lang-key="nav-home">首页</a>
                <a href="gallery.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-custom" data-lang-key="nav-gallery">照片</a>
                <a href="all-news.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-custom" data-lang-key="nav-news">动态</a>
                <a href="discussion.html" class="block px-3 py-2 rounded-md text-base font-medium text-primary bg-white/5" data-lang-key="nav-discussion">话题讨论</a>
                <a href="login.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-custom" data-lang-key="nav-login">登录/注册</a>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="flex-1 container mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="max-w-4xl mx-auto">
            <!-- 页面标题 -->
            <div class="text-center mb-12">
                <h1 class="text-[clamp(1.75rem,5vw,3rem)] font-display font-bold text-white mb-4" data-lang-key="discussion-main-title">粉丝话题讨论区</h1>
                <p class="text-gray-400 max-w-2xl mx-auto" data-lang-key="discussion-description">在这里与其他粉丝交流互动，分享对Boom的喜爱和最新动态的看法。</p>
            </div>

            <!-- 热门话题 -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-8 flex items-center" data-lang-key="hot-topics">
                    <i class="fa fa-fire text-secondary mr-3"></i>热门话题
                </h2>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <!-- 话题卡片1 -->
                    <div class="topic-card bg-dark/50 backdrop-blur-sm border border-white/10 rounded-xl p-6 transition-custom cursor-pointer" data-topic-id="1">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 rounded-full bg-secondary/20 flex items-center justify-center">
                                    <i class="fa fa-film text-secondary"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold" data-lang-key="topic1-title">最新作品讨论</h3>
                                    <p class="text-xs text-gray-400" data-lang-key="topic1-subtitle">《以你为名的星》观后感</p>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-full px-3 py-1 text-xs text-gray-400">
                                <span id="topic1-count">128</span> <span data-lang-key="comments">评论</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300 mb-4 line-clamp-2" data-lang-key="topic1-desc">Boom在新剧中的表现如何？哪些场景最让你印象深刻？快来分享你的感受吧！</p>
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <span data-lang-key="topic1-date">2024-01-15 更新</span>
                            <button class="text-primary hover:text-secondary transition-custom" data-lang-key="join-discussion">参与讨论</button>
                        </div>
                    </div>

                    <!-- 话题卡片2 -->
                    <div class="topic-card bg-dark/50 backdrop-blur-sm border border-white/10 rounded-xl p-6 transition-custom cursor-pointer" data-topic-id="2">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center">
                                    <i class="fa fa-music text-primary"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold" data-lang-key="topic2-title">音乐作品推荐</h3>
                                    <p class="text-xs text-gray-400" data-lang-key="topic2-subtitle">你最喜欢Boom的哪首歌？</p>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-full px-3 py-1 text-xs text-gray-400">
                                <span id="topic2-count">86</span> <span data-lang-key="comments">评论</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300 mb-4 line-clamp-2" data-lang-key="topic2-desc">Boom的音乐作品中，哪一首最打动你？分享你与这些音乐的故事和感受。</p>
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <span data-lang-key="topic2-date">2024-01-10 更新</span>
                            <button class="text-primary hover:text-secondary transition-custom" data-lang-key="join-discussion">参与讨论</button>
                        </div>
                    </div>

                    <!-- 话题卡片3 -->
                    <div class="topic-card bg-dark/50 backdrop-blur-sm border border-white/10 rounded-xl p-6 transition-custom cursor-pointer" data-topic-id="3">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center">
                                    <i class="fa fa-calendar text-green-500"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold" data-lang-key="topic3-title">活动预告</h3>
                                    <p class="text-xs text-gray-400" data-lang-key="topic3-subtitle">2024年粉丝见面会期待</p>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-full px-3 py-1 text-xs text-gray-400">
                                <span id="topic3-count">203</span> <span data-lang-key="comments">评论</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300 mb-4 line-clamp-2" data-lang-key="topic3-desc">对于即将到来的粉丝见面会，你有什么期待和建议？希望看到哪些精彩环节？</p>
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <span data-lang-key="topic3-date">2024-01-05 更新</span>
                            <button class="text-primary hover:text-secondary transition-custom" data-lang-key="join-discussion">参与讨论</button>
                        </div>
                    </div>

                    <!-- 话题卡片4 -->
                    <div class="topic-card bg-dark/50 backdrop-blur-sm border border-white/10 rounded-xl p-6 transition-custom cursor-pointer" data-topic-id="4">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 rounded-full bg-yellow-500/20 flex items-center justify-center">
                                    <i class="fa fa-gift text-yellow-500"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold" data-lang-key="topic4-title">粉丝福利</h3>
                                    <p class="text-xs text-gray-400" data-lang-key="topic4-subtitle">分享你的周边收藏</p>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-full px-3 py-1 text-xs text-gray-400">
                                <span id="topic4-count">57</span> <span data-lang-key="comments">评论</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300 mb-4 line-clamp-2" data-lang-key="topic4-desc">你收藏了哪些Boom的周边？分享你的宝贝收藏和获取故事，与其他粉丝一起交流。</p>
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <span data-lang-key="topic4-date">2023-12-28 更新</span>
                            <button class="text-primary hover:text-secondary transition-custom" data-lang-key="join-discussion">参与讨论</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 话题详情和评论区 (初始隐藏) -->
            <section id="topic-detail" class="hidden animate-fade-in">
                <div class="flex items-center mb-6">
                    <button id="back-to-topics" class="flex items-center text-gray-400 hover:text-white transition-custom mr-4">
                        <i class="fa fa-arrow-left mr-2"></i>
                        <span data-lang-key="back-to-topics">返回话题列表</span>
                    </button>
                </div>
                
                <div class="bg-dark/50 backdrop-blur-sm border border-white/10 rounded-xl p-8 mb-8">
                    <div class="flex items-center space-x-4 mb-6">
                        <div id="detail-topic-icon" class="w-12 h-12 rounded-full flex items-center justify-center"></div>
                        <div>
                            <h2 id="detail-topic-title" class="text-2xl font-bold"></h2>
                            <p id="detail-topic-subtitle" class="text-gray-400"></p>
                        </div>
                    </div>
                    <p id="detail-topic-desc" class="text-gray-300 mb-6 text-lg"></p>
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <span id="detail-topic-date"></span>
                        <div class="flex items-center space-x-4">
                            <span class="flex items-center"><i class="fa fa-eye mr-1"></i> <span id="detail-view-count">0</span></span>
                            <span class="flex items-center"><i class="fa fa-comment mr-1"></i> <span id="detail-comment-count">0</span></span>
                        </div>
                    </div>
                </div>

                <!-- 评论输入区 -->
                <div class="mb-10">
                    <h3 class="text-xl font-bold mb-6" data-lang-key="add-comment">发表评论</h3>
                    <div class="comment-form border border-white/20 rounded-lg p-4 bg-dark/50">
                        <div id="not-logged-in" class="flex items-center justify-center py-8 text-center">
                            <div>
                                <i class="fa fa-user-circle-o text-4xl text-gray-500 mb-4"></i>
                                <p class="text-gray-400 mb-4" data-lang-key="login-to-comment">请先登录后再发表评论</p>
                                <a href="login.html?redirect=discussion.html" class="inline-block bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-full font-medium transition-custom" data-lang-key="go-login">去登录</a>
                            </div>
                        </div>
                        
                        <div id="comment-input-area" class="hidden">
                            <div class="flex items-start space-x-4">
                                <div id="current-user-avatar" class="w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white text-sm"></div>
                                <div class="flex-1">
                                    <textarea id="comment-text" rows="3" class="w-full bg-white/10 border border-white/10 rounded-lg p-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-primary" placeholder="写下你的评论..."></textarea>
                                    <div class="flex items-center justify-between mt-3">
                                        <div class="flex items-center space-x-3">
                                            <button type="button" class="text-gray-400 hover:text-white transition-custom" data-lang-key="emoji">
                                                <i class="fa fa-smile-o"></i>
                                            </button>
                                            <button type="button" class="text-gray-400 hover:text-white transition-custom" data-lang-key="image">
                                                <i class="fa fa-image"></i>
                                            </button>
                                        </div>
                                        <button id="submit-comment" class="bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-full text-sm font-medium transition-custom" data-lang-key="submit-comment">发表评论</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 评论列表 -->
                <div>
                    <h3 class="text-xl font-bold mb-6 flex items-center" data-lang-key="comments-list">
                        <span id="comments-list-count">0</span> <span data-lang-key="comments">评论</span>
                    </h3>
                    <div id="comments-container" class="space-y-6">
                        <!-- 评论将通过JavaScript动态生成 -->
                        <div id="no-comments" class="text-center py-16">
                            <i class="fa fa-comments-o text-4xl text-gray-500 mb-4"></i>
                            <p class="text-gray-400" data-lang-key="no-comments">暂无评论，快来发表第一条评论吧！</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-dark border-t border-white/10 py-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <a href="index.html" class="flex items-center space-x-2 mb-6">
                        <div class="w-10 h-10 rounded-full bg-primary flex items-center justify-center">
                            <i class="fa fa-star text-white text-xl"></i>
                        </div>
                        <span class="text-2xl font-display font-bold">BoomRaveewit</span>
                    </a>
                    <p class="text-gray-400 mb-6" data-lang-key="footer-bio">
                        泰国实力派演员/歌手，凭借出色的演技和独特的个人魅力，赢得了全球粉丝的喜爱与支持。
                    </p>
                    <div class="flex space-x-4">
                        <a href="https://weibo.com/u/7977907334" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-primary transition-custom" target="_blank">
                            <i class="fa fa-weibo"></i>
                        </a>
                        <a href="https://x.com/boom_rvw" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-primary transition-custom" target="_blank">
                            <i class="fa fa-twitter"></i>
                        </a>
                        <a href="https://www.instagram.com/boom_rvw" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-primary transition-custom" target="_blank">
                            <i class="fa fa-instagram"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4" data-lang-key="quick-links">快速链接</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="index.html" class="hover:text-primary transition-custom" data-lang-key="nav-home">首页</a></li>
                        <li><a href="gallery.html" class="hover:text-primary transition-custom" data-lang-key="nav-gallery">照片</a></li>
                        <li><a href="all-news.html" class="hover:text-primary transition-custom" data-lang-key="nav-news">动态</a></li>
                        <li><a href="discussion.html" class="hover:text-primary transition-custom" data-lang-key="nav-discussion">话题讨论</a></li>
                        <li><a href="login.html" class="hover:text-primary transition-custom" data-lang-key="nav-login">登录/注册</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4" data-lang-key="about-star">关于明星</h3>
                    <ul class="space-y-4 text-gray-400">
                        <li><span data-lang-key="birthday">出生日期：</span>1991年8月8日</li>
                        <li><span data-lang-key="birthplace">出生地：</span>泰国</li>
                        <li><span data-lang-key="constellation">星座：</span>巨蟹座</li>
                        <li><span data-lang-key="fan-name">粉丝名：</span>Betus🐋✨</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-12 pt-8 text-center text-gray-500">
                <p data-lang-key="copyright">© 2024 BoomRaveewit 官方网站. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <!-- 多语言支持脚本 -->
    <script>
        // 定义多语言翻译
        const translations = {
            zh: {
                'discussion-title': '话题讨论 - BoomRaveewit 粉丝社区',
                'discussion-main-title': '粉丝话题讨论区',
                'discussion-description': '在这里与其他粉丝交流互动，分享对Boom的喜爱和最新动态的看法。',
                'hot-topics': '热门话题',
                'topic1-title': '最新作品讨论',
                'topic1-subtitle': '《以你为名的星》观后感',
                'topic1-desc': 'Boom在新剧中的表现如何？哪些场景最让你印象深刻？快来分享你的感受吧！',
                'topic1-date': '2024-01-15 更新',
                'topic2-title': '音乐作品推荐',
                'topic2-subtitle': '你最喜欢Boom的哪首歌？',
                'topic2-desc': 'Boom的音乐作品中，哪一首最打动你？分享你与这些音乐的故事和感受。',
                'topic2-date': '2024-01-10 更新',
                'topic3-title': '活动预告',
                'topic3-subtitle': '2024年粉丝见面会期待',
                'topic3-desc': '对于即将到来的粉丝见面会，你有什么期待和建议？希望看到哪些精彩环节？',
                'topic3-date': '2024-01-05 更新',
                'topic4-title': '粉丝福利',
                'topic4-subtitle': '分享你的周边收藏',
                'topic4-desc': '你收藏了哪些Boom的周边？分享你的宝贝收藏和获取故事，与其他粉丝一起交流。',
                'topic4-date': '2023-12-28 更新',
                'join-discussion': '参与讨论',
                'comments': '评论',
                'back-to-topics': '返回话题列表',
                'add-comment': '发表评论',
                'login-to-comment': '请先登录后再发表评论',
                'go-login': '去登录',
                'emoji': '表情',
                'image': '图片',
                'submit-comment': '发表评论',
                'comments-list': '评论列表',
                'no-comments': '暂无评论，快来发表第一条评论吧！',
                'nav-home': '首页',
                'nav-gallery': '照片',
                'nav-news': '动态',
                'nav-discussion': '话题讨论',
                'nav-login': '登录/注册',
                'nav-language': '语言',
                'footer-bio': '泰国实力派演员/歌手，凭借出色的演技和独特的个人魅力，赢得了全球粉丝的喜爱与支持。',
                'quick-links': '快速链接',
                'about-star': '关于明星',
                'birthday': '出生日期：',
                'birthplace': '出生地：',
                'constellation': '星座：',
                'fan-name': '粉丝名：',
                'copyright': '© 2024 BoomRaveewit 官方网站. 保留所有权利.'
            },
            en: {
                'discussion-title': 'Discussion - BoomRaveewit Fan Community',
                'discussion-main-title': 'Fan Discussion Area',
                'discussion-description': 'Interact with other fans here, share your love for Boom and thoughts on the latest updates.',
                'hot-topics': 'Hot Topics',
                'topic1-title': 'Latest Work Discussion',
                'topic1-subtitle': 'Thoughts on "Star Named After You"',
                'topic1-desc': 'How did you like Boom\'s performance in the new drama? Which scenes impressed you the most? Share your feelings!',
                'topic1-date': 'Updated on 2024-01-15',
                'topic2-title': 'Music Recommendations',
                'topic2-subtitle': 'Which of Boom\'s songs do you like best?',
                'topic2-desc': 'Among Boom\'s music works, which one touches you the most? Share your stories and feelings related to these songs.',
                'topic2-date': 'Updated on 2024-01-10',
                'topic3-title': 'Event Preview',
                'topic3-subtitle': 'Expectations for 2024 Fan Meeting',
                'topic3-desc': 'What are your expectations and suggestions for the upcoming fan meeting? What exciting segments do you hope to see?',
                'topic3-date': 'Updated on 2024-01-05',
                'topic4-title': 'Fan Benefits',
                'topic4-subtitle': 'Share Your Merchandise Collection',
                'topic4-desc': 'What Boom merchandise have you collected? Share your precious collections and acquisition stories with other fans.',
                'topic4-date': 'Updated on 2023-12-28',
                'join-discussion': 'Join Discussion',
                'comments': 'Comments',
                'back-to-topics': 'Back to Topics',
                'add-comment': 'Add Comment',
                'login-to-comment': 'Please log in to comment',
                'go-login': 'Go to Login',
                'emoji': 'Emoji',
                'image': 'Image',
                'submit-comment': 'Submit Comment',
                'comments-list': 'Comments List',
                'no-comments': 'No comments yet, be the first to comment!',
                'nav-home': 'Home',
                'nav-gallery': 'Gallery',
                'nav-news': 'News',
                'nav-discussion': 'Discussion',
                'nav-login': 'Login/Register',
                'nav-language': 'Language',
                'footer-bio': 'A talented Thai actor/singer who has won the love and support of fans worldwide with his excellent acting skills and unique personal charm.',
                'quick-links': 'Quick Links',
                'about-star': 'About the Star',
                'birthday': 'Birth Date: ',
                'birthplace': 'Birth Place: ',
                'constellation': 'Zodiac: ',
                'fan-name': 'Fan Name: ',
                'copyright': '© 2024 BoomRaveewit Official Website. All rights reserved.'
            },
            th: {
                'discussion-title': 'การสนทนา - ชุมชนแฟนคลับ BoomRaveewit',
                'discussion-main-title': 'พื้นที่สนทนาของแฟนคลับ',
                'discussion-description': 'สนทนากับแฟนอื่นๆ ที่นี่ แบ่งปันความรักต่อ Boom และความคิดเกี่ยวกับข่าวสารล่าสุด',
                'hot-topics': 'หัวข้อฮอต',
                'topic1-title': 'การอภิปรายผลงานล่าสุด',
                'topic1-subtitle': 'ความรู้สึกเกี่ยวกับ "ดวงดาวที่ตั้งชื่อตามคุณ"',
                'topic1-desc': 'คุณชอบการแสดงของ Boom ในละครใหม่หรือไม่? ฉากไหนบอกที่ประทับใจคุณมากที่สุด? แบ่งปันความรู้สึกของคุณ!',
                'topic1-date': 'อัปเดตเมื่อ 2024-01-15',
                'topic2-title': 'การแนะนำเพลง',
                'topic2-subtitle': 'คุณชอบเพลงของ Boom อันไหนที่สุด?',
                'topic2-desc': 'ในงานดนตรีของ Boom เพลงใดที่สัมผัสคุณมากที่สุด? แบ่งปันเรื่องราวและความรู้สึกของคุณเกี่ยวกับเพลงเหล่านี้',
                'topic2-date': 'อัปเดตเมื่อ 2024-01-10',
                'topic3-title': 'ตัวอย่างกิจกรรม',
                'topic3-subtitle': 'ความคาดหวังสำหรับงานพบปะแฟนปี 2024',
                'topic3-desc': 'คุณมีความคาดหวังและข้อเสนอแนะอะไรสำหรับงานพบปะแฟนที่กำลังจะมาถึง? คุณหวังเห็นเซกเมนต์ไหนที่น่าตื่นเต้น?',
                'topic3-date': 'อัปเดตเมื่อ 2024-01-05',
                'topic4-title': 'สิทธิพิเศษสำหรับแฟน',
                'topic4-subtitle': 'แบ่งปันความสะสมของของสะสมของคุณ',
                'topic4-desc': 'คุณสะสมของเสริมของ Boom อะไรบ้าง? แบ่งปันคอลเลกชันคุณค่าของคุณและเรื่องราวการได้รับกับแฟนอื่นๆ',
                'topic4-date': 'อัปเดตเมื่อ 2023-12-28',
                'join-discussion': 'เข้าร่วมการสนทนา',
                'comments': 'ความคิดเห็น',
                'back-to-topics': 'กลับไปที่หัวข้อ',
                'add-comment': 'เพิ่มความคิดเห็น',
                'login-to-comment': 'กรุณาเข้าสู่ระบบเพื่อแสดงความคิดเห็น',
                'go-login': 'ไปที่เข้าสู่ระบบ',
                'emoji': 'อีโมจิ',
                'image': 'รูปภาพ',
                'submit-comment': 'ส่งความคิดเห็น',
                'comments-list': 'รายการความคิดเห็น',
                'no-comments': 'ยังไม่มีความคิดเห็น ส่งความคิดเห็นแรกของคุณเลย!',
                'nav-home': 'หน้าแรก',
                'nav-gallery': 'แกลเลอรี่',
                'nav-news': 'ข่าว',
                'nav-discussion': 'การสนทนา',
                'nav-login': 'เข้าสู่ระบบ/ลงทะเบียน',
                'nav-language': 'ภาษา',
                'footer-bio': 'นักแสดง/นักร้องไทยที่มีพรสวรรค์ ผู้ซึ่งได้รับความรักและการสนับสนุนจากแฟนทั่วโลกด้วยทักษะการแสดงอันเยี่ยมและเสน่ห์ส่วนบุคคลที่ไม่ซ้ำใคร',
                'quick-links': 'ลิงก์รวดเร็ว',
                'about-star': 'เกี่ยวกับดารา',
                'birthday': 'วันเกิด: ',
                'birthplace': 'สถานที่เกิด: ',
                'constellation': 'ราศี: ',
                'fan-name': 'ชื่อแฟน: ',
                'copyright': '© 2024 เว็บไซต์ทางการ BoomRaveewit ลิขสิทธิ์สงวน์ทั้งหมด'
            }
        };

        let currentLang = localStorage.getItem('preferredLanguage') || 'zh';

        // 更新页面语言
        function updateLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('preferredLanguage', lang);
            
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.getAttribute('data-lang-key');
                if (translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });
            
            // 更新页面标题
            document.title = translations[lang]['discussion-title'] || 'Discussion - BoomRaveewit Fan Community';
        }

        // 初始化语言
        updateLanguage(currentLang);

        // 语言切换事件
        document.getElementById('language-btn').addEventListener('click', () => {
            const dropdown = document.getElementById('language-dropdown');
            dropdown.classList.toggle('hidden');
        });

        document.querySelectorAll('#language-dropdown a').forEach(option => {
            option.addEventListener('click', (e) => {
                e.preventDefault();
                const lang = option.getAttribute('data-lang');
                updateLanguage(lang);
                document.getElementById('language-dropdown').classList.add('hidden');
            });
        });

        // 移动端菜单切换
        document.getElementById('mobile-menu-button').addEventListener('click', () => {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });

        // 点击页面其他地方关闭下拉菜单
        document.addEventListener('click', (e) => {
            const languageBtn = document.getElementById('language-btn');
            const languageDropdown = document.getElementById('language-dropdown');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (!languageBtn.contains(e.target) && !languageDropdown.contains(e.target)) {
                languageDropdown.classList.add('hidden');
            }
            
            if (!mobileMenuButton.contains(e.target) && !mobileMenu.contains(e.target)) {
                mobileMenu.classList.add('hidden');
            }
        });

        // 模拟数据：话题详情
        const topics = {
            1: {
                title: '最新作品讨论',
                subtitle: '《以你为名的星》观后感',
                description: 'Boom在新剧中的表现如何？哪些场景最让你印象深刻？快来分享你的感受吧！',
                date: '2024-01-15 更新',
                iconClass: 'bg-secondary/20 text-secondary',
                icon: 'fa fa-film',
                viewCount: 1254,
                commentCount: 128
            },
            2: {
                title: '音乐作品推荐',
                subtitle: '你最喜欢Boom的哪首歌？',
                description: 'Boom的音乐作品中，哪一首最打动你？分享你与这些音乐的故事和感受。',
                date: '2024-01-10 更新',
                iconClass: 'bg-primary/20 text-primary',
                icon: 'fa fa-music',
                viewCount: 876,
                commentCount: 86
            },
            3: {
                title: '活动预告',
                subtitle: '2024年粉丝见面会期待',
                description: '对于即将到来的粉丝见面会，你有什么期待和建议？希望看到哪些精彩环节？',
                date: '2024-01-05 更新',
                iconClass: 'bg-green-500/20 text-green-500',
                icon: 'fa fa-calendar',
                viewCount: 2345,
                commentCount: 203
            },
            4: {
                title: '粉丝福利',
                subtitle: '分享你的周边收藏',
                description: '你收藏了哪些Boom的周边？分享你的宝贝收藏和获取故事，与其他粉丝一起交流。',
                date: '2023-12-28 更新',
                iconClass: 'bg-yellow-500/20 text-yellow-500',
                icon: 'fa fa-gift',
                viewCount: 678,
                commentCount: 57
            }
        };

        // 获取评论数据
        function getComments(topicId) {
            const comments = localStorage.getItem(`topic_${topicId}_comments`);
            return comments ? JSON.parse(comments) : [];
        }

        // 保存评论数据
        function saveComments(topicId, comments) {
            localStorage.setItem(`topic_${topicId}_comments`, JSON.stringify(comments));
        }

        // 生成随机头像文字
        function generateAvatarText(username) {
            return username ? username.charAt(0).toUpperCase() : '?';
        }

        // 显示当前登录用户
        function showCurrentUser() {
            const user = localStorage.getItem('user') || sessionStorage.getItem('user');
            if (user) {
                try {
                    const userData = JSON.parse(user);
                    document.getElementById('login-link').classList.add('hidden');
                    const userStatus = document.getElementById('user-status');
                    userStatus.classList.remove('hidden');
                    userStatus.classList.add('flex');
                    document.getElementById('user-name').textContent = userData.username;
                    document.getElementById('user-avatar').textContent = generateAvatarText(userData.username);
                    
                    // 显示评论输入区
                    document.getElementById('not-logged-in').classList.add('hidden');
                    document.getElementById('comment-input-area').classList.remove('hidden');
                    document.getElementById('current-user-avatar').textContent = generateAvatarText(userData.username);
                    
                    return userData;
                } catch (e) {
                    console.error('解析用户数据失败:', e);
                }
            }
            return null;
        }

        // 登出功能
        document.getElementById('logout-btn').addEventListener('click', () => {
            localStorage.removeItem('user');
            sessionStorage.removeItem('user');
            location.reload();
        });

        // 切换到话题详情
        document.querySelectorAll('.topic-card').forEach(card => {
            card.addEventListener('click', () => {
                const topicId = card.getAttribute('data-topic-id');
                showTopicDetail(topicId);
            });
        });

        // 返回话题列表
        document.getElementById('back-to-topics').addEventListener('click', () => {
            document.getElementById('topic-detail').classList.add('hidden');
            document.querySelector('section').classList.remove('hidden');
        });

        // 显示话题详情
        function showTopicDetail(topicId) {
            const topic = topics[topicId];
            if (topic) {
                // 更新详情信息
                document.getElementById('detail-topic-title').textContent = translations[currentLang][`topic${topicId}-title`] || topic.title;
                document.getElementById('detail-topic-subtitle').textContent = translations[currentLang][`topic${topicId}-subtitle`] || topic.subtitle;
                document.getElementById('detail-topic-desc').textContent = translations[currentLang][`topic${topicId}-desc`] || topic.description;
                document.getElementById('detail-topic-date').textContent = translations[currentLang][`topic${topicId}-date`] || topic.date;
                document.getElementById('detail-view-count').textContent = topic.viewCount;
                document.getElementById('detail-comment-count').textContent = topic.commentCount;
                document.getElementById('comments-list-count').textContent = topic.commentCount;
                
                // 更新图标
                const iconContainer = document.getElementById('detail-topic-icon');
                iconContainer.className = `w-12 h-12 rounded-full flex items-center justify-center ${topic.iconClass}`;
                iconContainer.innerHTML = `<i class="fa ${topic.icon}"></i>`;
                
                // 显示话题详情，隐藏话题列表
                document.querySelector('section').classList.add('hidden');
                document.getElementById('topic-detail').classList.remove('hidden');
                
                // 加载评论
                loadComments(topicId);
                
                // 更新用户状态
                showCurrentUser();
            }
        }

        // 加载评论
        function loadComments(topicId) {
            const comments = getComments(topicId);
            const commentsContainer = document.getElementById('comments-container');
            
            // 清空容器
            commentsContainer.innerHTML = '';
            
            if (comments.length === 0) {
                commentsContainer.innerHTML = `
                    <div id="no-comments" class="text-center py-16">
                        <i class="fa fa-comments-o text-4xl text-gray-500 mb-4"></i>
                        <p class="text-gray-400" data-lang-key="no-comments">暂无评论，快来发表第一条评论吧！</p>
                    </div>
                `;
                updateLanguage(currentLang); // 更新翻译
            } else {
                comments.forEach(comment => {
                    const commentElement = document.createElement('div');
                    commentElement.className = 'bg-dark/30 backdrop-blur-sm border border-white/10 rounded-xl p-6 animate-fade-in';
                    
                    // 格式化日期
                    const date = new Date(comment.timestamp);
                    const formattedDate = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;
                    
                    commentElement.innerHTML = `
                        <div class="flex items-start space-x-4">
                            <div class="w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white text-sm">${generateAvatarText(comment.username)}</div>
                            <div class="flex-1">
                                <div class="flex items-center justify-between mb-2">
                                    <h4 class="font-semibold text-white">${comment.username}</h4>
                                    <span class="text-xs text-gray-500">${formattedDate}</span>
                                </div>
                                <p class="text-gray-300">${comment.content}</p>
                            </div>
                        </div>
                    `;
                    
                    commentsContainer.appendChild(commentElement);
                });
            }
        }

        // 提交评论
        document.getElementById('submit-comment').addEventListener('click', () => {
            const user = showCurrentUser();
            if (!user) return;
            
            const commentText = document.getElementById('comment-text').value.trim();
            if (!commentText) {
                alert(translations[currentLang]['comment-required'] || '请输入评论内容');
                return;
            }
            
            // 获取当前话题ID（从URL参数或当前显示的话题中获取）
            const currentTopicId = Array.from(document.querySelectorAll('.topic-card')).find(card => !card.classList.contains('hidden'))?.getAttribute('data-topic-id') || 
                                  new URLSearchParams(window.location.search).get('topicId') || '1';
            
            // 创建新评论
            const newComment = {
                username: user.username,
                content: commentText,
                timestamp: new Date().toISOString()
            };
            
            // 获取现有评论
            const comments = getComments(currentTopicId);
            comments.unshift(newComment); // 添加到开头
            
            // 保存评论
            saveComments(currentTopicId, comments);
            
            // 更新评论数
            const topic = topics[currentTopicId];
            if (topic) {
                topic.commentCount = comments.length;
                document.getElementById(`topic${currentTopicId}-count`).textContent = comments.length;
                document.getElementById('detail-comment-count').textContent = comments.length;
                document.getElementById('comments-list-count').textContent = comments.length;
            }
            
            // 重新加载评论
            loadComments(currentTopicId);
            
            // 清空输入框
            document.getElementById('comment-text').value = '';
        });

        // 初始化页面
        document.addEventListener('DOMContentLoaded', () => {
            showCurrentUser();
            
            // 检查URL参数是否有话题ID
            const urlParams = new URLSearchParams(window.location.search);
            const topicId = urlParams.get('topicId');
            if (topicId && topics[topicId]) {
                showTopicDetail(topicId);
            }
        });
    </script>
</body>
</html>