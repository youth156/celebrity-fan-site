<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="discussion-title">è¯é¢˜è®¨è®º - BoomRaveewit ç²‰ä¸ç¤¾åŒº</title>
    <!-- å¼•å…¥Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- é…ç½®Tailwindè‡ªå®šä¹‰é¢œè‰²å’Œå­—ä½“ -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6C38FF', // ä¸»è‰²è°ƒï¼šç´«è‰²ï¼Œä»£è¡¨åˆ›é€ åŠ›å’Œç‹¬ç‰¹æ€§
                        secondary: '#FF5E7D', // è¾…åŠ©è‰²ï¼šç²‰è‰²ï¼Œä»£è¡¨çƒ­æƒ…å’Œæ´»åŠ›
                        dark: '#1A1A2E', // æ·±è‰²èƒŒæ™¯
                        light: '#F7F7F9', // æµ…è‰²èƒŒæ™¯
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        display: ['Montserrat', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <!-- è‡ªå®šä¹‰å·¥å…·ç±» -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .transition-custom {
                transition: all 0.3s ease;
            }
            .animate-fade-in {
                animation: fadeIn 0.5s ease-in-out;
            }
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
        }
    </style>
    <style>
        body {
            background-color: #0F0F23;
            background-image: radial-gradient(circle at 50% 50%, rgba(108, 56, 255, 0.1) 0%, rgba(26, 26, 46, 0) 70%);
            background-attachment: fixed;
        }
        .topic-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px -5px rgba(108, 56, 255, 0.1), 0 10px 10px -5px rgba(108, 56, 255, 0.04);
        }
        .comment-form:focus-within {
            border-color: #6C38FF;
            box-shadow: 0 0 0 3px rgba(108, 56, 255, 0.2);
        }
    </style>
</head>
<body class="font-sans text-white min-h-screen flex flex-col">
    <!-- å¯¼èˆªæ  -->
    <header class="sticky top-0 z-50 bg-dark/80 backdrop-blur-md border-b border-white/10">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <a href="index.html" class="flex items-center">
                        <span class="text-xl font-bold text-primary">BoomRaveewit</span>
                    </a>
                    <nav class="ml-10 hidden md:block">
                        <div class="flex items-center space-x-8">
                            <a href="index.html" class="text-gray-300 hover:text-white transition-custom" data-lang-key="nav-home">é¦–é¡µ</a>
                            <a href="gallery.html" class="text-gray-300 hover:text-white transition-custom" data-lang-key="nav-gallery">ç…§ç‰‡</a>
                            <a href="all-news.html" class="text-gray-300 hover:text-white transition-custom" data-lang-key="nav-news">åŠ¨æ€</a>
                            <a href="discussion.html" class="text-primary border-b-2 border-primary py-1" data-lang-key="nav-discussion">è¯é¢˜è®¨è®º</a>
                        </div>
                    </nav>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- ç”¨æˆ·çŠ¶æ€æ˜¾ç¤º -->
                    <div id="user-status" class="hidden items-center space-x-2">
                        <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center text-white text-sm">
                            <span id="user-avatar"></span>
                        </div>
                        <span id="user-name" class="text-sm text-white"></span>
                        <button id="logout-btn" class="text-gray-400 hover:text-white transition-custom">
                            <i class="fa fa-sign-out"></i>
                        </button>
                    </div>
                    <a href="login.html" id="login-link" class="text-sm text-white hover:text-primary transition-custom">
                        <i class="fa fa-user-circle-o mr-1"></i>
                        <span data-lang-key="nav-login">ç™»å½•/æ³¨å†Œ</span>
                    </a>
                    <!-- è¯­è¨€åˆ‡æ¢ä¸‹æ‹‰èœå• -->
                    <div class="relative">
                        <button id="language-btn" class="flex items-center text-gray-300 hover:text-white transition-custom">
                            <i class="fa fa-globe mr-2"></i>
                            <span data-lang-key="nav-language">è¯­è¨€</span>
                            <i class="fa fa-chevron-down ml-2 text-xs"></i>
                        </button>
                        <div id="language-dropdown" class="absolute right-0 mt-2 w-48 bg-dark border border-white/20 rounded-lg shadow-xl hidden z-50">
                            <a href="#" data-lang="zh" class="block px-4 py-2 hover:bg-white/10 transition-custom">ä¸­æ–‡</a>
                            <a href="#" data-lang="en" class="block px-4 py-2 hover:bg-white/10 transition-custom">English</a>
                            <a href="#" data-lang="th" class="block px-4 py-2 hover:bg-white/10 transition-custom">à¹„à¸—à¸¢</a>
                        </div>
                    </div>
                    <!-- ç§»åŠ¨ç«¯èœå•æŒ‰é’® -->
                    <div class="md:hidden">
                        <button id="mobile-menu-button" class="text-gray-300 hover:text-white transition-custom">
                            <i class="fa fa-bars text-xl"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- ç§»åŠ¨ç«¯èœå• -->
        <div id="mobile-menu" class="md:hidden hidden bg-dark border-t border-white/10">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-custom" data-lang-key="nav-home">é¦–é¡µ</a>
                <a href="gallery.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-custom" data-lang-key="nav-gallery">ç…§ç‰‡</a>
                <a href="all-news.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-custom" data-lang-key="nav-news">åŠ¨æ€</a>
                <a href="discussion.html" class="block px-3 py-2 rounded-md text-base font-medium text-primary bg-white/5" data-lang-key="nav-discussion">è¯é¢˜è®¨è®º</a>
                <a href="login.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-custom" data-lang-key="nav-login">ç™»å½•/æ³¨å†Œ</a>
            </div>
        </div>
    </header>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="flex-1 container mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="max-w-4xl mx-auto">
            <!-- é¡µé¢æ ‡é¢˜ -->
            <div class="text-center mb-12">
                <h1 class="text-[clamp(1.75rem,5vw,3rem)] font-display font-bold text-white mb-4" data-lang-key="discussion-main-title">ç²‰ä¸è¯é¢˜è®¨è®ºåŒº</h1>
                <p class="text-gray-400 max-w-2xl mx-auto" data-lang-key="discussion-description">åœ¨è¿™é‡Œä¸å…¶ä»–ç²‰ä¸äº¤æµäº’åŠ¨ï¼Œåˆ†äº«å¯¹Boomçš„å–œçˆ±å’Œæœ€æ–°åŠ¨æ€çš„çœ‹æ³•ã€‚</p>
            </div>

            <!-- çƒ­é—¨è¯é¢˜ -->
            <section class="mb-16">
                <h2 class="text-2xl font-bold mb-8 flex items-center" data-lang-key="hot-topics">
                    <i class="fa fa-fire text-secondary mr-3"></i>çƒ­é—¨è¯é¢˜
                </h2>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <!-- è¯é¢˜å¡ç‰‡1 -->
                    <div class="topic-card bg-dark/50 backdrop-blur-sm border border-white/10 rounded-xl p-6 transition-custom cursor-pointer" data-topic-id="1">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 rounded-full bg-secondary/20 flex items-center justify-center">
                                    <i class="fa fa-film text-secondary"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold" data-lang-key="topic1-title">æœ€æ–°ä½œå“è®¨è®º</h3>
                                    <p class="text-xs text-gray-400" data-lang-key="topic1-subtitle">ã€Šä»¥ä½ ä¸ºåçš„æ˜Ÿã€‹è§‚åæ„Ÿ</p>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-full px-3 py-1 text-xs text-gray-400">
                                <span id="topic1-count">128</span> <span data-lang-key="comments">è¯„è®º</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300 mb-4 line-clamp-2" data-lang-key="topic1-desc">Boomåœ¨æ–°å‰§ä¸­çš„è¡¨ç°å¦‚ä½•ï¼Ÿå“ªäº›åœºæ™¯æœ€è®©ä½ å°è±¡æ·±åˆ»ï¼Ÿå¿«æ¥åˆ†äº«ä½ çš„æ„Ÿå—å§ï¼</p>
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <span data-lang-key="topic1-date">2024-01-15 æ›´æ–°</span>
                            <button class="text-primary hover:text-secondary transition-custom" data-lang-key="join-discussion">å‚ä¸è®¨è®º</button>
                        </div>
                    </div>

                    <!-- è¯é¢˜å¡ç‰‡2 -->
                    <div class="topic-card bg-dark/50 backdrop-blur-sm border border-white/10 rounded-xl p-6 transition-custom cursor-pointer" data-topic-id="2">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center">
                                    <i class="fa fa-music text-primary"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold" data-lang-key="topic2-title">éŸ³ä¹ä½œå“æ¨è</h3>
                                    <p class="text-xs text-gray-400" data-lang-key="topic2-subtitle">ä½ æœ€å–œæ¬¢Boomçš„å“ªé¦–æ­Œï¼Ÿ</p>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-full px-3 py-1 text-xs text-gray-400">
                                <span id="topic2-count">86</span> <span data-lang-key="comments">è¯„è®º</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300 mb-4 line-clamp-2" data-lang-key="topic2-desc">Boomçš„éŸ³ä¹ä½œå“ä¸­ï¼Œå“ªä¸€é¦–æœ€æ‰“åŠ¨ä½ ï¼Ÿåˆ†äº«ä½ ä¸è¿™äº›éŸ³ä¹çš„æ•…äº‹å’Œæ„Ÿå—ã€‚</p>
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <span data-lang-key="topic2-date">2024-01-10 æ›´æ–°</span>
                            <button class="text-primary hover:text-secondary transition-custom" data-lang-key="join-discussion">å‚ä¸è®¨è®º</button>
                        </div>
                    </div>

                    <!-- è¯é¢˜å¡ç‰‡3 -->
                    <div class="topic-card bg-dark/50 backdrop-blur-sm border border-white/10 rounded-xl p-6 transition-custom cursor-pointer" data-topic-id="3">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center">
                                    <i class="fa fa-calendar text-green-500"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold" data-lang-key="topic3-title">æ´»åŠ¨é¢„å‘Š</h3>
                                    <p class="text-xs text-gray-400" data-lang-key="topic3-subtitle">2024å¹´ç²‰ä¸è§é¢ä¼šæœŸå¾…</p>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-full px-3 py-1 text-xs text-gray-400">
                                <span id="topic3-count">203</span> <span data-lang-key="comments">è¯„è®º</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300 mb-4 line-clamp-2" data-lang-key="topic3-desc">å¯¹äºå³å°†åˆ°æ¥çš„ç²‰ä¸è§é¢ä¼šï¼Œä½ æœ‰ä»€ä¹ˆæœŸå¾…å’Œå»ºè®®ï¼Ÿå¸Œæœ›çœ‹åˆ°å“ªäº›ç²¾å½©ç¯èŠ‚ï¼Ÿ</p>
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <span data-lang-key="topic3-date">2024-01-05 æ›´æ–°</span>
                            <button class="text-primary hover:text-secondary transition-custom" data-lang-key="join-discussion">å‚ä¸è®¨è®º</button>
                        </div>
                    </div>

                    <!-- è¯é¢˜å¡ç‰‡4 -->
                    <div class="topic-card bg-dark/50 backdrop-blur-sm border border-white/10 rounded-xl p-6 transition-custom cursor-pointer" data-topic-id="4">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 rounded-full bg-yellow-500/20 flex items-center justify-center">
                                    <i class="fa fa-gift text-yellow-500"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold" data-lang-key="topic4-title">ç²‰ä¸ç¦åˆ©</h3>
                                    <p class="text-xs text-gray-400" data-lang-key="topic4-subtitle">åˆ†äº«ä½ çš„å‘¨è¾¹æ”¶è—</p>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-full px-3 py-1 text-xs text-gray-400">
                                <span id="topic4-count">57</span> <span data-lang-key="comments">è¯„è®º</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300 mb-4 line-clamp-2" data-lang-key="topic4-desc">ä½ æ”¶è—äº†å“ªäº›Boomçš„å‘¨è¾¹ï¼Ÿåˆ†äº«ä½ çš„å®è´æ”¶è—å’Œè·å–æ•…äº‹ï¼Œä¸å…¶ä»–ç²‰ä¸ä¸€èµ·äº¤æµã€‚</p>
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <span data-lang-key="topic4-date">2023-12-28 æ›´æ–°</span>
                            <button class="text-primary hover:text-secondary transition-custom" data-lang-key="join-discussion">å‚ä¸è®¨è®º</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- è¯é¢˜è¯¦æƒ…å’Œè¯„è®ºåŒº (åˆå§‹éšè—) -->
            <section id="topic-detail" class="hidden animate-fade-in">
                <div class="flex items-center mb-6">
                    <button id="back-to-topics" class="flex items-center text-gray-400 hover:text-white transition-custom mr-4">
                        <i class="fa fa-arrow-left mr-2"></i>
                        <span data-lang-key="back-to-topics">è¿”å›è¯é¢˜åˆ—è¡¨</span>
                    </button>
                </div>
                
                <div class="bg-dark/50 backdrop-blur-sm border border-white/10 rounded-xl p-8 mb-8">
                    <div class="flex items-center space-x-4 mb-6">
                        <div id="detail-topic-icon" class="w-12 h-12 rounded-full flex items-center justify-center"></div>
                        <div>
                            <h2 id="detail-topic-title" class="text-2xl font-bold"></h2>
                            <p id="detail-topic-subtitle" class="text-gray-400"></p>
                        </div>
                    </div>
                    <p id="detail-topic-desc" class="text-gray-300 mb-6 text-lg"></p>
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <span id="detail-topic-date"></span>
                        <div class="flex items-center space-x-4">
                            <span class="flex items-center"><i class="fa fa-eye mr-1"></i> <span id="detail-view-count">0</span></span>
                            <span class="flex items-center"><i class="fa fa-comment mr-1"></i> <span id="detail-comment-count">0</span></span>
                        </div>
                    </div>
                </div>

                <!-- è¯„è®ºè¾“å…¥åŒº -->
                <div class="mb-10">
                    <h3 class="text-xl font-bold mb-6" data-lang-key="add-comment">å‘è¡¨è¯„è®º</h3>
                    <div class="comment-form border border-white/20 rounded-lg p-4 bg-dark/50">
                        <div id="not-logged-in" class="flex items-center justify-center py-8 text-center">
                            <div>
                                <i class="fa fa-user-circle-o text-4xl text-gray-500 mb-4"></i>
                                <p class="text-gray-400 mb-4" data-lang-key="login-to-comment">è¯·å…ˆç™»å½•åå†å‘è¡¨è¯„è®º</p>
                                <a href="login.html?redirect=discussion.html" class="inline-block bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-full font-medium transition-custom" data-lang-key="go-login">å»ç™»å½•</a>
                            </div>
                        </div>
                        
                        <div id="comment-input-area" class="hidden">
                            <div class="flex items-start space-x-4">
                                <div id="current-user-avatar" class="w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white text-sm"></div>
                                <div class="flex-1">
                                    <textarea id="comment-text" rows="3" class="w-full bg-white/10 border border-white/10 rounded-lg p-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-primary" placeholder="å†™ä¸‹ä½ çš„è¯„è®º..."></textarea>
                                    <div class="flex items-center justify-between mt-3">
                                        <div class="flex items-center space-x-3">
                                            <button type="button" class="text-gray-400 hover:text-white transition-custom" data-lang-key="emoji">
                                                <i class="fa fa-smile-o"></i>
                                            </button>
                                            <button type="button" class="text-gray-400 hover:text-white transition-custom" data-lang-key="image">
                                                <i class="fa fa-image"></i>
                                            </button>
                                        </div>
                                        <button id="submit-comment" class="bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-full text-sm font-medium transition-custom" data-lang-key="submit-comment">å‘è¡¨è¯„è®º</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è¯„è®ºåˆ—è¡¨ -->
                <div>
                    <h3 class="text-xl font-bold mb-6 flex items-center" data-lang-key="comments-list">
                        <span id="comments-list-count">0</span> <span data-lang-key="comments">è¯„è®º</span>
                    </h3>
                    <div id="comments-container" class="space-y-6">
                        <!-- è¯„è®ºå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        <div id="no-comments" class="text-center py-16">
                            <i class="fa fa-comments-o text-4xl text-gray-500 mb-4"></i>
                            <p class="text-gray-400" data-lang-key="no-comments">æš‚æ— è¯„è®ºï¼Œå¿«æ¥å‘è¡¨ç¬¬ä¸€æ¡è¯„è®ºå§ï¼</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="bg-dark border-t border-white/10 py-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <a href="index.html" class="flex items-center space-x-2 mb-6">
                        <div class="w-10 h-10 rounded-full bg-primary flex items-center justify-center">
                            <i class="fa fa-star text-white text-xl"></i>
                        </div>
                        <span class="text-2xl font-display font-bold">BoomRaveewit</span>
                    </a>
                    <p class="text-gray-400 mb-6" data-lang-key="footer-bio">
                        æ³°å›½å®åŠ›æ´¾æ¼”å‘˜/æ­Œæ‰‹ï¼Œå‡­å€Ÿå‡ºè‰²çš„æ¼”æŠ€å’Œç‹¬ç‰¹çš„ä¸ªäººé­…åŠ›ï¼Œèµ¢å¾—äº†å…¨çƒç²‰ä¸çš„å–œçˆ±ä¸æ”¯æŒã€‚
                    </p>
                    <div class="flex space-x-4">
                        <a href="https://weibo.com/u/7977907334" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-primary transition-custom" target="_blank">
                            <i class="fa fa-weibo"></i>
                        </a>
                        <a href="https://x.com/boom_rvw" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-primary transition-custom" target="_blank">
                            <i class="fa fa-twitter"></i>
                        </a>
                        <a href="https://www.instagram.com/boom_rvw" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-primary transition-custom" target="_blank">
                            <i class="fa fa-instagram"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4" data-lang-key="quick-links">å¿«é€Ÿé“¾æ¥</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="index.html" class="hover:text-primary transition-custom" data-lang-key="nav-home">é¦–é¡µ</a></li>
                        <li><a href="gallery.html" class="hover:text-primary transition-custom" data-lang-key="nav-gallery">ç…§ç‰‡</a></li>
                        <li><a href="all-news.html" class="hover:text-primary transition-custom" data-lang-key="nav-news">åŠ¨æ€</a></li>
                        <li><a href="discussion.html" class="hover:text-primary transition-custom" data-lang-key="nav-discussion">è¯é¢˜è®¨è®º</a></li>
                        <li><a href="login.html" class="hover:text-primary transition-custom" data-lang-key="nav-login">ç™»å½•/æ³¨å†Œ</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4" data-lang-key="about-star">å…³äºæ˜æ˜Ÿ</h3>
                    <ul class="space-y-4 text-gray-400">
                        <li><span data-lang-key="birthday">å‡ºç”Ÿæ—¥æœŸï¼š</span>1991å¹´8æœˆ8æ—¥</li>
                        <li><span data-lang-key="birthplace">å‡ºç”Ÿåœ°ï¼š</span>æ³°å›½</li>
                        <li><span data-lang-key="constellation">æ˜Ÿåº§ï¼š</span>å·¨èŸ¹åº§</li>
                        <li><span data-lang-key="fan-name">ç²‰ä¸åï¼š</span>BetusğŸ‹âœ¨</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-12 pt-8 text-center text-gray-500">
                <p data-lang-key="copyright">Â© 2024 BoomRaveewit å®˜æ–¹ç½‘ç«™. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
            </div>
        </div>
    </footer>

    <!-- å¤šè¯­è¨€æ”¯æŒè„šæœ¬ -->
    <script>
        // å®šä¹‰å¤šè¯­è¨€ç¿»è¯‘
        const translations = {
            zh: {
                'discussion-title': 'è¯é¢˜è®¨è®º - BoomRaveewit ç²‰ä¸ç¤¾åŒº',
                'discussion-main-title': 'ç²‰ä¸è¯é¢˜è®¨è®ºåŒº',
                'discussion-description': 'åœ¨è¿™é‡Œä¸å…¶ä»–ç²‰ä¸äº¤æµäº’åŠ¨ï¼Œåˆ†äº«å¯¹Boomçš„å–œçˆ±å’Œæœ€æ–°åŠ¨æ€çš„çœ‹æ³•ã€‚',
                'hot-topics': 'çƒ­é—¨è¯é¢˜',
                'topic1-title': 'æœ€æ–°ä½œå“è®¨è®º',
                'topic1-subtitle': 'ã€Šä»¥ä½ ä¸ºåçš„æ˜Ÿã€‹è§‚åæ„Ÿ',
                'topic1-desc': 'Boomåœ¨æ–°å‰§ä¸­çš„è¡¨ç°å¦‚ä½•ï¼Ÿå“ªäº›åœºæ™¯æœ€è®©ä½ å°è±¡æ·±åˆ»ï¼Ÿå¿«æ¥åˆ†äº«ä½ çš„æ„Ÿå—å§ï¼',
                'topic1-date': '2024-01-15 æ›´æ–°',
                'topic2-title': 'éŸ³ä¹ä½œå“æ¨è',
                'topic2-subtitle': 'ä½ æœ€å–œæ¬¢Boomçš„å“ªé¦–æ­Œï¼Ÿ',
                'topic2-desc': 'Boomçš„éŸ³ä¹ä½œå“ä¸­ï¼Œå“ªä¸€é¦–æœ€æ‰“åŠ¨ä½ ï¼Ÿåˆ†äº«ä½ ä¸è¿™äº›éŸ³ä¹çš„æ•…äº‹å’Œæ„Ÿå—ã€‚',
                'topic2-date': '2024-01-10 æ›´æ–°',
                'topic3-title': 'æ´»åŠ¨é¢„å‘Š',
                'topic3-subtitle': '2024å¹´ç²‰ä¸è§é¢ä¼šæœŸå¾…',
                'topic3-desc': 'å¯¹äºå³å°†åˆ°æ¥çš„ç²‰ä¸è§é¢ä¼šï¼Œä½ æœ‰ä»€ä¹ˆæœŸå¾…å’Œå»ºè®®ï¼Ÿå¸Œæœ›çœ‹åˆ°å“ªäº›ç²¾å½©ç¯èŠ‚ï¼Ÿ',
                'topic3-date': '2024-01-05 æ›´æ–°',
                'topic4-title': 'ç²‰ä¸ç¦åˆ©',
                'topic4-subtitle': 'åˆ†äº«ä½ çš„å‘¨è¾¹æ”¶è—',
                'topic4-desc': 'ä½ æ”¶è—äº†å“ªäº›Boomçš„å‘¨è¾¹ï¼Ÿåˆ†äº«ä½ çš„å®è´æ”¶è—å’Œè·å–æ•…äº‹ï¼Œä¸å…¶ä»–ç²‰ä¸ä¸€èµ·äº¤æµã€‚',
                'topic4-date': '2023-12-28 æ›´æ–°',
                'join-discussion': 'å‚ä¸è®¨è®º',
                'comments': 'è¯„è®º',
                'back-to-topics': 'è¿”å›è¯é¢˜åˆ—è¡¨',
                'add-comment': 'å‘è¡¨è¯„è®º',
                'login-to-comment': 'è¯·å…ˆç™»å½•åå†å‘è¡¨è¯„è®º',
                'go-login': 'å»ç™»å½•',
                'emoji': 'è¡¨æƒ…',
                'image': 'å›¾ç‰‡',
                'submit-comment': 'å‘è¡¨è¯„è®º',
                'comments-list': 'è¯„è®ºåˆ—è¡¨',
                'no-comments': 'æš‚æ— è¯„è®ºï¼Œå¿«æ¥å‘è¡¨ç¬¬ä¸€æ¡è¯„è®ºå§ï¼',
                'nav-home': 'é¦–é¡µ',
                'nav-gallery': 'ç…§ç‰‡',
                'nav-news': 'åŠ¨æ€',
                'nav-discussion': 'è¯é¢˜è®¨è®º',
                'nav-login': 'ç™»å½•/æ³¨å†Œ',
                'nav-language': 'è¯­è¨€',
                'footer-bio': 'æ³°å›½å®åŠ›æ´¾æ¼”å‘˜/æ­Œæ‰‹ï¼Œå‡­å€Ÿå‡ºè‰²çš„æ¼”æŠ€å’Œç‹¬ç‰¹çš„ä¸ªäººé­…åŠ›ï¼Œèµ¢å¾—äº†å…¨çƒç²‰ä¸çš„å–œçˆ±ä¸æ”¯æŒã€‚',
                'quick-links': 'å¿«é€Ÿé“¾æ¥',
                'about-star': 'å…³äºæ˜æ˜Ÿ',
                'birthday': 'å‡ºç”Ÿæ—¥æœŸï¼š',
                'birthplace': 'å‡ºç”Ÿåœ°ï¼š',
                'constellation': 'æ˜Ÿåº§ï¼š',
                'fan-name': 'ç²‰ä¸åï¼š',
                'copyright': 'Â© 2024 BoomRaveewit å®˜æ–¹ç½‘ç«™. ä¿ç•™æ‰€æœ‰æƒåˆ©.'
            },
            en: {
                'discussion-title': 'Discussion - BoomRaveewit Fan Community',
                'discussion-main-title': 'Fan Discussion Area',
                'discussion-description': 'Interact with other fans here, share your love for Boom and thoughts on the latest updates.',
                'hot-topics': 'Hot Topics',
                'topic1-title': 'Latest Work Discussion',
                'topic1-subtitle': 'Thoughts on "Star Named After You"',
                'topic1-desc': 'How did you like Boom\'s performance in the new drama? Which scenes impressed you the most? Share your feelings!',
                'topic1-date': 'Updated on 2024-01-15',
                'topic2-title': 'Music Recommendations',
                'topic2-subtitle': 'Which of Boom\'s songs do you like best?',
                'topic2-desc': 'Among Boom\'s music works, which one touches you the most? Share your stories and feelings related to these songs.',
                'topic2-date': 'Updated on 2024-01-10',
                'topic3-title': 'Event Preview',
                'topic3-subtitle': 'Expectations for 2024 Fan Meeting',
                'topic3-desc': 'What are your expectations and suggestions for the upcoming fan meeting? What exciting segments do you hope to see?',
                'topic3-date': 'Updated on 2024-01-05',
                'topic4-title': 'Fan Benefits',
                'topic4-subtitle': 'Share Your Merchandise Collection',
                'topic4-desc': 'What Boom merchandise have you collected? Share your precious collections and acquisition stories with other fans.',
                'topic4-date': 'Updated on 2023-12-28',
                'join-discussion': 'Join Discussion',
                'comments': 'Comments',
                'back-to-topics': 'Back to Topics',
                'add-comment': 'Add Comment',
                'login-to-comment': 'Please log in to comment',
                'go-login': 'Go to Login',
                'emoji': 'Emoji',
                'image': 'Image',
                'submit-comment': 'Submit Comment',
                'comments-list': 'Comments List',
                'no-comments': 'No comments yet, be the first to comment!',
                'nav-home': 'Home',
                'nav-gallery': 'Gallery',
                'nav-news': 'News',
                'nav-discussion': 'Discussion',
                'nav-login': 'Login/Register',
                'nav-language': 'Language',
                'footer-bio': 'A talented Thai actor/singer who has won the love and support of fans worldwide with his excellent acting skills and unique personal charm.',
                'quick-links': 'Quick Links',
                'about-star': 'About the Star',
                'birthday': 'Birth Date: ',
                'birthplace': 'Birth Place: ',
                'constellation': 'Zodiac: ',
                'fan-name': 'Fan Name: ',
                'copyright': 'Â© 2024 BoomRaveewit Official Website. All rights reserved.'
            },
            th: {
                'discussion-title': 'à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸² - à¸Šà¸¸à¸¡à¸Šà¸™à¹à¸Ÿà¸™à¸„à¸¥à¸±à¸š BoomRaveewit',
                'discussion-main-title': 'à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆà¸ªà¸™à¸—à¸™à¸²à¸‚à¸­à¸‡à¹à¸Ÿà¸™à¸„à¸¥à¸±à¸š',
                'discussion-description': 'à¸ªà¸™à¸—à¸™à¸²à¸à¸±à¸šà¹à¸Ÿà¸™à¸­à¸·à¹ˆà¸™à¹† à¸—à¸µà¹ˆà¸™à¸µà¹ˆ à¹à¸šà¹ˆà¸‡à¸›à¸±à¸™à¸„à¸§à¸²à¸¡à¸£à¸±à¸à¸•à¹ˆà¸­ Boom à¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¸„à¸´à¸”à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¸‚à¹ˆà¸²à¸§à¸ªà¸²à¸£à¸¥à¹ˆà¸²à¸ªà¸¸à¸”',
                'hot-topics': 'à¸«à¸±à¸§à¸‚à¹‰à¸­à¸®à¸­à¸•',
                'topic1-title': 'à¸à¸²à¸£à¸­à¸ à¸´à¸›à¸£à¸²à¸¢à¸œà¸¥à¸‡à¸²à¸™à¸¥à¹ˆà¸²à¸ªà¸¸à¸”',
                'topic1-subtitle': 'à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰à¸ªà¸¶à¸à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸š "à¸”à¸§à¸‡à¸”à¸²à¸§à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­à¸•à¸²à¸¡à¸„à¸¸à¸“"',
                'topic1-desc': 'à¸„à¸¸à¸“à¸Šà¸­à¸šà¸à¸²à¸£à¹à¸ªà¸”à¸‡à¸‚à¸­à¸‡ Boom à¹ƒà¸™à¸¥à¸°à¸„à¸£à¹ƒà¸«à¸¡à¹ˆà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ? à¸‰à¸²à¸à¹„à¸«à¸™à¸šà¸­à¸à¸—à¸µà¹ˆà¸›à¸£à¸°à¸—à¸±à¸šà¹ƒà¸ˆà¸„à¸¸à¸“à¸¡à¸²à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸”? à¹à¸šà¹ˆà¸‡à¸›à¸±à¸™à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰à¸ªà¸¶à¸à¸‚à¸­à¸‡à¸„à¸¸à¸“!',
                'topic1-date': 'à¸­à¸±à¸›à¹€à¸”à¸•à¹€à¸¡à¸·à¹ˆà¸­ 2024-01-15',
                'topic2-title': 'à¸à¸²à¸£à¹à¸™à¸°à¸™à¸³à¹€à¸à¸¥à¸‡',
                'topic2-subtitle': 'à¸„à¸¸à¸“à¸Šà¸­à¸šà¹€à¸à¸¥à¸‡à¸‚à¸­à¸‡ Boom à¸­à¸±à¸™à¹„à¸«à¸™à¸—à¸µà¹ˆà¸ªà¸¸à¸”?',
                'topic2-desc': 'à¹ƒà¸™à¸‡à¸²à¸™à¸”à¸™à¸•à¸£à¸µà¸‚à¸­à¸‡ Boom à¹€à¸à¸¥à¸‡à¹ƒà¸”à¸—à¸µà¹ˆà¸ªà¸±à¸¡à¸œà¸±à¸ªà¸„à¸¸à¸“à¸¡à¸²à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸”? à¹à¸šà¹ˆà¸‡à¸›à¸±à¸™à¹€à¸£à¸·à¹ˆà¸­à¸‡à¸£à¸²à¸§à¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¸£à¸¹à¹‰à¸ªà¸¶à¸à¸‚à¸­à¸‡à¸„à¸¸à¸“à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹€à¸à¸¥à¸‡à¹€à¸«à¸¥à¹ˆà¸²à¸™à¸µà¹‰',
                'topic2-date': 'à¸­à¸±à¸›à¹€à¸”à¸•à¹€à¸¡à¸·à¹ˆà¸­ 2024-01-10',
                'topic3-title': 'à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸´à¸ˆà¸à¸£à¸£à¸¡',
                'topic3-subtitle': 'à¸„à¸§à¸²à¸¡à¸„à¸²à¸”à¸«à¸§à¸±à¸‡à¸ªà¸³à¸«à¸£à¸±à¸šà¸‡à¸²à¸™à¸à¸šà¸›à¸°à¹à¸Ÿà¸™à¸›à¸µ 2024',
                'topic3-desc': 'à¸„à¸¸à¸“à¸¡à¸µà¸„à¸§à¸²à¸¡à¸„à¸²à¸”à¸«à¸§à¸±à¸‡à¹à¸¥à¸°à¸‚à¹‰à¸­à¹€à¸ªà¸™à¸­à¹à¸™à¸°à¸­à¸°à¹„à¸£à¸ªà¸³à¸«à¸£à¸±à¸šà¸‡à¸²à¸™à¸à¸šà¸›à¸°à¹à¸Ÿà¸™à¸—à¸µà¹ˆà¸à¸³à¸¥à¸±à¸‡à¸ˆà¸°à¸¡à¸²à¸–à¸¶à¸‡? à¸„à¸¸à¸“à¸«à¸§à¸±à¸‡à¹€à¸«à¹‡à¸™à¹€à¸‹à¸à¹€à¸¡à¸™à¸•à¹Œà¹„à¸«à¸™à¸—à¸µà¹ˆà¸™à¹ˆà¸²à¸•à¸·à¹ˆà¸™à¹€à¸•à¹‰à¸™?',
                'topic3-date': 'à¸­à¸±à¸›à¹€à¸”à¸•à¹€à¸¡à¸·à¹ˆà¸­ 2024-01-05',
                'topic4-title': 'à¸ªà¸´à¸—à¸˜à¸´à¸à¸´à¹€à¸¨à¸©à¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸Ÿà¸™',
                'topic4-subtitle': 'à¹à¸šà¹ˆà¸‡à¸›à¸±à¸™à¸„à¸§à¸²à¸¡à¸ªà¸°à¸ªà¸¡à¸‚à¸­à¸‡à¸‚à¸­à¸‡à¸ªà¸°à¸ªà¸¡à¸‚à¸­à¸‡à¸„à¸¸à¸“',
                'topic4-desc': 'à¸„à¸¸à¸“à¸ªà¸°à¸ªà¸¡à¸‚à¸­à¸‡à¹€à¸ªà¸£à¸´à¸¡à¸‚à¸­à¸‡ Boom à¸­à¸°à¹„à¸£à¸šà¹‰à¸²à¸‡? à¹à¸šà¹ˆà¸‡à¸›à¸±à¸™à¸„à¸­à¸¥à¹€à¸¥à¸à¸Šà¸±à¸™à¸„à¸¸à¸“à¸„à¹ˆà¸²à¸‚à¸­à¸‡à¸„à¸¸à¸“à¹à¸¥à¸°à¹€à¸£à¸·à¹ˆà¸­à¸‡à¸£à¸²à¸§à¸à¸²à¸£à¹„à¸”à¹‰à¸£à¸±à¸šà¸à¸±à¸šà¹à¸Ÿà¸™à¸­à¸·à¹ˆà¸™à¹†',
                'topic4-date': 'à¸­à¸±à¸›à¹€à¸”à¸•à¹€à¸¡à¸·à¹ˆà¸­ 2023-12-28',
                'join-discussion': 'à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸²',
                'comments': 'à¸„à¸§à¸²à¸¡à¸„à¸´à¸”à¹€à¸«à¹‡à¸™',
                'back-to-topics': 'à¸à¸¥à¸±à¸šà¹„à¸›à¸—à¸µà¹ˆà¸«à¸±à¸§à¸‚à¹‰à¸­',
                'add-comment': 'à¹€à¸à¸´à¹ˆà¸¡à¸„à¸§à¸²à¸¡à¸„à¸´à¸”à¹€à¸«à¹‡à¸™',
                'login-to-comment': 'à¸à¸£à¸¸à¸“à¸²à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¹€à¸à¸·à¹ˆà¸­à¹à¸ªà¸”à¸‡à¸„à¸§à¸²à¸¡à¸„à¸´à¸”à¹€à¸«à¹‡à¸™',
                'go-login': 'à¹„à¸›à¸—à¸µà¹ˆà¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š',
                'emoji': 'à¸­à¸µà¹‚à¸¡à¸ˆà¸´',
                'image': 'à¸£à¸¹à¸›à¸ à¸²à¸',
                'submit-comment': 'à¸ªà¹ˆà¸‡à¸„à¸§à¸²à¸¡à¸„à¸´à¸”à¹€à¸«à¹‡à¸™',
                'comments-list': 'à¸£à¸²à¸¢à¸à¸²à¸£à¸„à¸§à¸²à¸¡à¸„à¸´à¸”à¹€à¸«à¹‡à¸™',
                'no-comments': 'à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸§à¸²à¸¡à¸„à¸´à¸”à¹€à¸«à¹‡à¸™ à¸ªà¹ˆà¸‡à¸„à¸§à¸²à¸¡à¸„à¸´à¸”à¹€à¸«à¹‡à¸™à¹à¸£à¸à¸‚à¸­à¸‡à¸„à¸¸à¸“à¹€à¸¥à¸¢!',
                'nav-home': 'à¸«à¸™à¹‰à¸²à¹à¸£à¸',
                'nav-gallery': 'à¹à¸à¸¥à¹€à¸¥à¸­à¸£à¸µà¹ˆ',
                'nav-news': 'à¸‚à¹ˆà¸²à¸§',
                'nav-discussion': 'à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸²',
                'nav-login': 'à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š/à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™',
                'nav-language': 'à¸ à¸²à¸©à¸²',
                'footer-bio': 'à¸™à¸±à¸à¹à¸ªà¸”à¸‡/à¸™à¸±à¸à¸£à¹‰à¸­à¸‡à¹„à¸—à¸¢à¸—à¸µà¹ˆà¸¡à¸µà¸à¸£à¸ªà¸§à¸£à¸£à¸„à¹Œ à¸œà¸¹à¹‰à¸‹à¸¶à¹ˆà¸‡à¹„à¸”à¹‰à¸£à¸±à¸šà¸„à¸§à¸²à¸¡à¸£à¸±à¸à¹à¸¥à¸°à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™à¸ˆà¸²à¸à¹à¸Ÿà¸™à¸—à¸±à¹ˆà¸§à¹‚à¸¥à¸à¸”à¹‰à¸§à¸¢à¸—à¸±à¸à¸©à¸°à¸à¸²à¸£à¹à¸ªà¸”à¸‡à¸­à¸±à¸™à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¹à¸¥à¸°à¹€à¸ªà¸™à¹ˆà¸«à¹Œà¸ªà¹ˆà¸§à¸™à¸šà¸¸à¸„à¸„à¸¥à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸‹à¹‰à¸³à¹ƒà¸„à¸£',
                'quick-links': 'à¸¥à¸´à¸‡à¸à¹Œà¸£à¸§à¸”à¹€à¸£à¹‡à¸§',
                'about-star': 'à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¸”à¸²à¸£à¸²',
                'birthday': 'à¸§à¸±à¸™à¹€à¸à¸´à¸”: ',
                'birthplace': 'à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¹€à¸à¸´à¸”: ',
                'constellation': 'à¸£à¸²à¸¨à¸µ: ',
                'fan-name': 'à¸Šà¸·à¹ˆà¸­à¹à¸Ÿà¸™: ',
                'copyright': 'Â© 2024 à¹€à¸§à¹‡à¸šà¹„à¸‹à¸•à¹Œà¸—à¸²à¸‡à¸à¸²à¸£ BoomRaveewit à¸¥à¸´à¸‚à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸ªà¸‡à¸§à¸™à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”'
            }
        };

        let currentLang = localStorage.getItem('preferredLanguage') || 'zh';

        // æ›´æ–°é¡µé¢è¯­è¨€
        function updateLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('preferredLanguage', lang);
            
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.getAttribute('data-lang-key');
                if (translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });
            
            // æ›´æ–°é¡µé¢æ ‡é¢˜
            document.title = translations[lang]['discussion-title'] || 'Discussion - BoomRaveewit Fan Community';
        }

        // åˆå§‹åŒ–è¯­è¨€
        updateLanguage(currentLang);

        // è¯­è¨€åˆ‡æ¢äº‹ä»¶
        document.getElementById('language-btn').addEventListener('click', () => {
            const dropdown = document.getElementById('language-dropdown');
            dropdown.classList.toggle('hidden');
        });

        document.querySelectorAll('#language-dropdown a').forEach(option => {
            option.addEventListener('click', (e) => {
                e.preventDefault();
                const lang = option.getAttribute('data-lang');
                updateLanguage(lang);
                document.getElementById('language-dropdown').classList.add('hidden');
            });
        });

        // ç§»åŠ¨ç«¯èœå•åˆ‡æ¢
        document.getElementById('mobile-menu-button').addEventListener('click', () => {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });

        // ç‚¹å‡»é¡µé¢å…¶ä»–åœ°æ–¹å…³é—­ä¸‹æ‹‰èœå•
        document.addEventListener('click', (e) => {
            const languageBtn = document.getElementById('language-btn');
            const languageDropdown = document.getElementById('language-dropdown');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (!languageBtn.contains(e.target) && !languageDropdown.contains(e.target)) {
                languageDropdown.classList.add('hidden');
            }
            
            if (!mobileMenuButton.contains(e.target) && !mobileMenu.contains(e.target)) {
                mobileMenu.classList.add('hidden');
            }
        });

        // æ¨¡æ‹Ÿæ•°æ®ï¼šè¯é¢˜è¯¦æƒ…
        const topics = {
            1: {
                title: 'æœ€æ–°ä½œå“è®¨è®º',
                subtitle: 'ã€Šä»¥ä½ ä¸ºåçš„æ˜Ÿã€‹è§‚åæ„Ÿ',
                description: 'Boomåœ¨æ–°å‰§ä¸­çš„è¡¨ç°å¦‚ä½•ï¼Ÿå“ªäº›åœºæ™¯æœ€è®©ä½ å°è±¡æ·±åˆ»ï¼Ÿå¿«æ¥åˆ†äº«ä½ çš„æ„Ÿå—å§ï¼',
                date: '2024-01-15 æ›´æ–°',
                iconClass: 'bg-secondary/20 text-secondary',
                icon: 'fa fa-film',
                viewCount: 1254,
                commentCount: 128
            },
            2: {
                title: 'éŸ³ä¹ä½œå“æ¨è',
                subtitle: 'ä½ æœ€å–œæ¬¢Boomçš„å“ªé¦–æ­Œï¼Ÿ',
                description: 'Boomçš„éŸ³ä¹ä½œå“ä¸­ï¼Œå“ªä¸€é¦–æœ€æ‰“åŠ¨ä½ ï¼Ÿåˆ†äº«ä½ ä¸è¿™äº›éŸ³ä¹çš„æ•…äº‹å’Œæ„Ÿå—ã€‚',
                date: '2024-01-10 æ›´æ–°',
                iconClass: 'bg-primary/20 text-primary',
                icon: 'fa fa-music',
                viewCount: 876,
                commentCount: 86
            },
            3: {
                title: 'æ´»åŠ¨é¢„å‘Š',
                subtitle: '2024å¹´ç²‰ä¸è§é¢ä¼šæœŸå¾…',
                description: 'å¯¹äºå³å°†åˆ°æ¥çš„ç²‰ä¸è§é¢ä¼šï¼Œä½ æœ‰ä»€ä¹ˆæœŸå¾…å’Œå»ºè®®ï¼Ÿå¸Œæœ›çœ‹åˆ°å“ªäº›ç²¾å½©ç¯èŠ‚ï¼Ÿ',
                date: '2024-01-05 æ›´æ–°',
                iconClass: 'bg-green-500/20 text-green-500',
                icon: 'fa fa-calendar',
                viewCount: 2345,
                commentCount: 203
            },
            4: {
                title: 'ç²‰ä¸ç¦åˆ©',
                subtitle: 'åˆ†äº«ä½ çš„å‘¨è¾¹æ”¶è—',
                description: 'ä½ æ”¶è—äº†å“ªäº›Boomçš„å‘¨è¾¹ï¼Ÿåˆ†äº«ä½ çš„å®è´æ”¶è—å’Œè·å–æ•…äº‹ï¼Œä¸å…¶ä»–ç²‰ä¸ä¸€èµ·äº¤æµã€‚',
                date: '2023-12-28 æ›´æ–°',
                iconClass: 'bg-yellow-500/20 text-yellow-500',
                icon: 'fa fa-gift',
                viewCount: 678,
                commentCount: 57
            }
        };

        // è·å–è¯„è®ºæ•°æ®
        function getComments(topicId) {
            const comments = localStorage.getItem(`topic_${topicId}_comments`);
            return comments ? JSON.parse(comments) : [];
        }

        // ä¿å­˜è¯„è®ºæ•°æ®
        function saveComments(topicId, comments) {
            localStorage.setItem(`topic_${topicId}_comments`, JSON.stringify(comments));
        }

        // ç”Ÿæˆéšæœºå¤´åƒæ–‡å­—
        function generateAvatarText(username) {
            return username ? username.charAt(0).toUpperCase() : '?';
        }

        // æ˜¾ç¤ºå½“å‰ç™»å½•ç”¨æˆ·
        function showCurrentUser() {
            const user = localStorage.getItem('user') || sessionStorage.getItem('user');
            if (user) {
                try {
                    const userData = JSON.parse(user);
                    document.getElementById('login-link').classList.add('hidden');
                    const userStatus = document.getElementById('user-status');
                    userStatus.classList.remove('hidden');
                    userStatus.classList.add('flex');
                    document.getElementById('user-name').textContent = userData.username;
                    document.getElementById('user-avatar').textContent = generateAvatarText(userData.username);
                    
                    // æ˜¾ç¤ºè¯„è®ºè¾“å…¥åŒº
                    document.getElementById('not-logged-in').classList.add('hidden');
                    document.getElementById('comment-input-area').classList.remove('hidden');
                    document.getElementById('current-user-avatar').textContent = generateAvatarText(userData.username);
                    
                    return userData;
                } catch (e) {
                    console.error('è§£æç”¨æˆ·æ•°æ®å¤±è´¥:', e);
                }
            }
            return null;
        }

        // ç™»å‡ºåŠŸèƒ½
        document.getElementById('logout-btn').addEventListener('click', () => {
            localStorage.removeItem('user');
            sessionStorage.removeItem('user');
            location.reload();
        });

        // åˆ‡æ¢åˆ°è¯é¢˜è¯¦æƒ…
        document.querySelectorAll('.topic-card').forEach(card => {
            card.addEventListener('click', () => {
                const topicId = card.getAttribute('data-topic-id');
                showTopicDetail(topicId);
            });
        });

        // è¿”å›è¯é¢˜åˆ—è¡¨
        document.getElementById('back-to-topics').addEventListener('click', () => {
            document.getElementById('topic-detail').classList.add('hidden');
            document.querySelector('section').classList.remove('hidden');
        });

        // æ˜¾ç¤ºè¯é¢˜è¯¦æƒ…
        function showTopicDetail(topicId) {
            const topic = topics[topicId];
            if (topic) {
                // æ›´æ–°è¯¦æƒ…ä¿¡æ¯
                document.getElementById('detail-topic-title').textContent = translations[currentLang][`topic${topicId}-title`] || topic.title;
                document.getElementById('detail-topic-subtitle').textContent = translations[currentLang][`topic${topicId}-subtitle`] || topic.subtitle;
                document.getElementById('detail-topic-desc').textContent = translations[currentLang][`topic${topicId}-desc`] || topic.description;
                document.getElementById('detail-topic-date').textContent = translations[currentLang][`topic${topicId}-date`] || topic.date;
                document.getElementById('detail-view-count').textContent = topic.viewCount;
                document.getElementById('detail-comment-count').textContent = topic.commentCount;
                document.getElementById('comments-list-count').textContent = topic.commentCount;
                
                // æ›´æ–°å›¾æ ‡
                const iconContainer = document.getElementById('detail-topic-icon');
                iconContainer.className = `w-12 h-12 rounded-full flex items-center justify-center ${topic.iconClass}`;
                iconContainer.innerHTML = `<i class="fa ${topic.icon}"></i>`;
                
                // æ˜¾ç¤ºè¯é¢˜è¯¦æƒ…ï¼Œéšè—è¯é¢˜åˆ—è¡¨
                document.querySelector('section').classList.add('hidden');
                document.getElementById('topic-detail').classList.remove('hidden');
                
                // åŠ è½½è¯„è®º
                loadComments(topicId);
                
                // æ›´æ–°ç”¨æˆ·çŠ¶æ€
                showCurrentUser();
            }
        }

        // åŠ è½½è¯„è®º
        function loadComments(topicId) {
            const comments = getComments(topicId);
            const commentsContainer = document.getElementById('comments-container');
            
            // æ¸…ç©ºå®¹å™¨
            commentsContainer.innerHTML = '';
            
            if (comments.length === 0) {
                commentsContainer.innerHTML = `
                    <div id="no-comments" class="text-center py-16">
                        <i class="fa fa-comments-o text-4xl text-gray-500 mb-4"></i>
                        <p class="text-gray-400" data-lang-key="no-comments">æš‚æ— è¯„è®ºï¼Œå¿«æ¥å‘è¡¨ç¬¬ä¸€æ¡è¯„è®ºå§ï¼</p>
                    </div>
                `;
                updateLanguage(currentLang); // æ›´æ–°ç¿»è¯‘
            } else {
                comments.forEach(comment => {
                    const commentElement = document.createElement('div');
                    commentElement.className = 'bg-dark/30 backdrop-blur-sm border border-white/10 rounded-xl p-6 animate-fade-in';
                    
                    // æ ¼å¼åŒ–æ—¥æœŸ
                    const date = new Date(comment.timestamp);
                    const formattedDate = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;
                    
                    commentElement.innerHTML = `
                        <div class="flex items-start space-x-4">
                            <div class="w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white text-sm">${generateAvatarText(comment.username)}</div>
                            <div class="flex-1">
                                <div class="flex items-center justify-between mb-2">
                                    <h4 class="font-semibold text-white">${comment.username}</h4>
                                    <span class="text-xs text-gray-500">${formattedDate}</span>
                                </div>
                                <p class="text-gray-300">${comment.content}</p>
                            </div>
                        </div>
                    `;
                    
                    commentsContainer.appendChild(commentElement);
                });
            }
        }

        // æäº¤è¯„è®º
        document.getElementById('submit-comment').addEventListener('click', () => {
            const user = showCurrentUser();
            if (!user) return;
            
            const commentText = document.getElementById('comment-text').value.trim();
            if (!commentText) {
                alert(translations[currentLang]['comment-required'] || 'è¯·è¾“å…¥è¯„è®ºå†…å®¹');
                return;
            }
            
            // è·å–å½“å‰è¯é¢˜IDï¼ˆä»URLå‚æ•°æˆ–å½“å‰æ˜¾ç¤ºçš„è¯é¢˜ä¸­è·å–ï¼‰
            const currentTopicId = Array.from(document.querySelectorAll('.topic-card')).find(card => !card.classList.contains('hidden'))?.getAttribute('data-topic-id') || 
                                  new URLSearchParams(window.location.search).get('topicId') || '1';
            
            // åˆ›å»ºæ–°è¯„è®º
            const newComment = {
                username: user.username,
                content: commentText,
                timestamp: new Date().toISOString()
            };
            
            // è·å–ç°æœ‰è¯„è®º
            const comments = getComments(currentTopicId);
            comments.unshift(newComment); // æ·»åŠ åˆ°å¼€å¤´
            
            // ä¿å­˜è¯„è®º
            saveComments(currentTopicId, comments);
            
            // æ›´æ–°è¯„è®ºæ•°
            const topic = topics[currentTopicId];
            if (topic) {
                topic.commentCount = comments.length;
                document.getElementById(`topic${currentTopicId}-count`).textContent = comments.length;
                document.getElementById('detail-comment-count').textContent = comments.length;
                document.getElementById('comments-list-count').textContent = comments.length;
            }
            
            // é‡æ–°åŠ è½½è¯„è®º
            loadComments(currentTopicId);
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            document.getElementById('comment-text').value = '';
        });

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', () => {
            showCurrentUser();
            
            // æ£€æŸ¥URLå‚æ•°æ˜¯å¦æœ‰è¯é¢˜ID
            const urlParams = new URLSearchParams(window.location.search);
            const topicId = urlParams.get('topicId');
            if (topicId && topics[topicId]) {
                showTopicDetail(topicId);
            }
        });
    </script>
</body>
</html>